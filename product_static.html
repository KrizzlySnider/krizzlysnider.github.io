<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Dtsch. Speisekartoffeln XXL - Preisverlauf (Statische Vorschau)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* CSS from product.php copied here for static display */
        body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; background: #f3f4f6; margin: 0; padding: 20px; color: #333; }
        .container { max-width: 1000px; margin: 0 auto; }
        a { text-decoration: none; color: inherit; }
        .nav-link { display: inline-block; color: #666; margin-bottom: 20px; font-weight: 500; }
        .nav-link:hover { color: #dc2626; }
        .main-card { background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); overflow: hidden; display: flex; flex-direction: column; }
        @media(min-width: 768px) { .main-card { flex-direction: row; } }
        .img-col { background: #fff; padding: 30px; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #eee; }
        .img-col img { max-width: 100%; max-height: 300px; object-fit: contain; }
        @media(min-width: 768px) { .img-col { flex: 0 0 350px; border-bottom: none; border-right: 1px solid #f0f0f0; } }
        .info-col { padding: 30px; flex: 1; }
        .meta-tags { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
        .tag { font-size: 0.75rem; padding: 4px 8px; border-radius: 4px; background: #f3f4f6; color: #666; text-transform: uppercase; font-weight: 700; }
        .tag.store { color: white; background: #333; }
        .tag.store.rewe { background: #ec2209; }
        .tag.store.kaufland { background: #e2001a; }
        .tag.date { background: #e0f2fe; color: #0284c7; }
        h1 { margin: 0 0 10px 0; font-size: 1.8rem; line-height: 1.2; color: #111; }
        .desc { color: #666; font-style: italic; margin-bottom: 25px; line-height: 1.5; }
        .price-container { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 20px; }
        .price-box { flex: 1; min-width: 150px; border-radius: 8px; padding: 15px; border: 2px solid transparent; position: relative; }
        .price-box.normal { background: #fef2f2; border-color: #fecaca; color: #991b1b; }
        .price-box.normal .label { color: #dc2626; }
        .price-box.normal .big-price { color: #dc2626; }
        /* Loyalty Price Styling (Kaufland) */
        .price-box.loyalty { background: #eff6ff; border-color: #bfdbfe; color: #2563eb; }
        .price-box.loyalty .label { color: #2563eb; }
        .price-box.loyalty .big-price { color: #2563eb; }
        .label { font-size: 0.7rem; text-transform: uppercase; font-weight: 700; margin-bottom: 5px; }
        .big-price { font-size: 2.2rem; font-weight: 800; line-height: 1; }
        .discount-badge { display: inline-block; background: #dc2626; color: white; font-size: 0.75rem; font-weight: bold; padding: 2px 6px; border-radius: 4px; vertical-align: middle; margin-left: 5px; transform: translateY(-3px); }
        .uvp-line { font-size: 0.9rem; margin-top: 5px; opacity: 0.8; }
        .uvp-strike { text-decoration: line-through; }
        .base-unit { font-size: 0.85rem; color: #888; margin-top: 10px; border-top: 1px solid #eee; padding-top: 10px; }
        .content-section { background: white; padding: 25px; border-radius: 12px; margin-top: 25px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
        h3 { margin-top: 0; color: #444; font-size: 1.2rem; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th, td { padding: 12px 15px; text-align: left; border-bottom: 1px solid #f0f0f0; }
        th { background: #f9fafb; font-weight: 600; color: #4b5563; }
        tr:last-child td { border-bottom: none; }
    </style>
</head>
<body>

<div class="container">
    <a href="index_static.html" class="nav-link">&larr; ZurÃ¼ck zur Ãœbersicht (Statisch)</a>

    <div class="main-card">
        <div class="img-col">
            <img src="https://kaufland.media.schwarz/is/image/schwarz/00991603a-2" onerror="this.src='https://placehold.co/350x350?text=Kein+Bild'">
        </div>
        <div class="info-col">
            <div class="meta-tags">
                <span class="tag store kaufland">KAUFLAND</span>
                <span class="tag">Obst, GemÃ¼se, Pflanzen</span>
                <span class="tag date">
                    ðŸ“… 04.12. - 10.12.
                </span>
            </div>

            <h1>Dtsch. Speisekartoffeln XXL</h1>
            <div class="desc">festkochend, Sorte laut Auszeichnung, QualitÃ¤t I</div>

            <div class="price-container">
                
                <div class="price-box normal">
                    <div class="label">Aktuelles Angebot</div>
                    <div class="big-price">
                        3,99 â‚¬
                        <span class="discount-badge">-42%</span>
                    </div>
                    <div class="uvp-line">
                        UVP: <span class="uvp-strike">6,99 â‚¬</span>
                    </div>
                </div>
                
                <div class="price-box loyalty">
                    <div class="label">Kaufland Card</div>
                    <div class="big-price">
                        3,50 â‚¬
                    </div>
                    <div class="uvp-line" style="font-weight:bold; opacity:1;">
                        Spare: 0,49 â‚¬
                    </div>
                </div>

            </div>

            <div class="base-unit">
                <div>Einheit: <b>je 7,5-kg-Sack</b></div>
                <div>Grundpreis: (1 kg = 0.54)</div>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h3>Preisverlauf</h3>
        <canvas id="priceChart" height="80"></canvas>
    </div>

    <div class="content-section">
        <h3>Historie</h3>
        <table>
            <thead>
                <tr>
                    <th>GÃ¼ltig von - bis</th>
                    <th>Angebot</th>
                    <th>Kaufland Card</th>
                    <th>UVP / Alt</th>
                    <th>Rabatt</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>01.11. - 07.11.2025</td>
                    <td style="font-weight:bold; color:#dc2626;">6,99 â‚¬</td>
                    <td style="font-weight:bold; color:#2563eb;">-</td>
                    <td style="color:#888;">-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>08.11. - 14.11.2025</td>
                    <td style="font-weight:bold; color:#dc2626;">4,99 â‚¬</td>
                    <td style="font-weight:bold; color:#2563eb;">-</td>
                    <td style="color:#888;">6,99 â‚¬</td>
                    <td>-28%</td>
                </tr>
                 <tr>
                    <td>04.12. - 10.12.2025</td>
                    <td style="font-weight:bold; color:#dc2626;">3,99 â‚¬</td>
                    <td style="font-weight:bold; color:#2563eb;">3,50 â‚¬</td>
                    <td style="color:#888;">6,99 â‚¬</td>
                    <td>-42%</td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

<script>
    // Static data for the Chart
    const labels = ['01.11.', '08.11.', '15.11.', '22.11.', '29.11.', '04.12.'];
    const priceData = [6.99, 4.99, null, null, null, 3.99]; // Normal price dips
    const cardData = [null, null, null, null, null, 3.50]; // Card price only for the last period
    const refData = [7.99, 6.99, 6.99, 6.99, 6.99, 6.99]; // Mock reference price

    const loyaltyColor = "#2563eb";
    const loyaltyLabel = "Kaufland Card";

    const ctx = document.getElementById('priceChart').getContext('2d');
    new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels,
            datasets: [
                {
                    label: 'Angebotspreis',
                    data: priceData,
                    borderColor: '#dc2626',
                    backgroundColor: '#dc2626',
                    borderWidth: 3, tension: 0.2, spanGaps: true
                },
                {
                    label: loyaltyLabel,
                    data: cardData,
                    borderColor: loyaltyColor,
                    backgroundColor: loyaltyColor,
                    borderWidth: 3, borderDash: [6, 4], tension: 0.2, spanGaps: true
                },
                {
                    label: 'UVP / Normal',
                    data: refData,
                    borderColor: '#9ca3af',
                    borderWidth: 2, pointRadius: 0, fill: false, spanGaps: true
                }
            ]
        },
        options: {
            responsive: true,
            interaction: { mode: 'index', intersect: false },
            plugins: {
                legend: { position: 'bottom' },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) label += ': ';
                            if (context.parsed.y !== null) {
                                label += new Intl.NumberFormat('de-DE', { style: 'currency', currency: 'EUR' }).format(context.parsed.y);
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: false,
                    ticks: { callback: function(value) { return value + ' â‚¬'; } }
                }
            }
        }
    });
</script>

</body>
</html>
